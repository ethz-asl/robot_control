<?xml version="1.0" encoding="UTF-8"?>
<launch>

  <arg name="description_file" default="$(find robot_control)/assets/arms/kinova3/kinova3_ros.urdf"/>
  <!-- TF prefix -->
  <arg name="tf_prefix" default=""/>
  <!-- Load robot description -->
  <param name="robot_description" command="$(find xacro)/xacro $(arg description_file)"/>

  <!-- Open joint_state_publisher for smb_description with GUI for debugging -->
<!--  <node name="joint_state_publisher" pkg="joint_state_publisher" type="joint_state_publisher" output="screen">-->
<!--    <param name="rate"              value="100"/>-->
<!--    <param name="use_gui"           value="true"/>-->
<!--    <remap from="robot_description" to="robot_description"/>-->
<!--    <remap from="joint_states"      to="joint_states"/>-->
<!--  </node>-->

  <!--  Run the test node-->
  <node name="robot_wrapper_ros" type="test_contact_wrench.py" pkg="robot_control" output="screen"/>

  <!-- Publish robot state (joints) as TF -->
  <node name="robot_state_publisher" pkg="robot_state_publisher" type="robot_state_publisher" output="screen">
    <param name="publish_frequency" value="100"/>
    <param name="use_tf_static"     value="true"/>
    <param name="tf_prefix"         value="$(arg tf_prefix)"/>
    <remap from="robot_description" to="robot_description"/>
    <remap from="joint_states"      to="joint_states"/>
  </node>

  <!-- Open Rviz -->
  <node name="rviz" pkg="rviz" type="rviz" args="-d $(find robot_control)/rviz/config.rviz" output="screen"/>

</launch>
