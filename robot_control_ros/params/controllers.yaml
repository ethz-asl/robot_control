# Publish all joint states -----------------------------------
joint_state_controller:
  type: "joint_state_controller/JointStateController"
  publish_rate: 50

positions_effort_controller:
  type: effort_controllers/JointGroupPositionController
  joints: ["panda_joint1", "panda_joint2", "panda_joint3", "panda_joint4", "panda_joint5", "panda_joint6", "panda_joint7"]
  panda_joint1:
    pid: { p: 12000, d: 50, i: 0.0, i_clamp: 10000 }
  panda_joint2:
    pid: { p: 30000, d: 100, i: 0.02, i_clamp: 10000 }
  panda_joint3:
    pid: { p: 18000, d: 50, i: 0.01, i_clamp: 1 }
  panda_joint4:
    pid: { p: 18000, d: 70, i: 0.01, i_clamp: 10000 }
  panda_joint5:
    pid: { p: 12000, d: 70, i: 0.01, i_clamp: 1 }
  panda_joint6:
    pid: { p: 7000, d: 50, i: 0.01, i_clamp: 1 }
  panda_joint7:
    pid: { p: 2000, d: 20, i: 0.0, i_clamp: 1 }

panda_trajectory_controller:
  type: effort_controllers/JointTrajectoryController
  joints:
    - panda_joint1
    - panda_joint2
    - panda_joint3
    - panda_joint4
    - panda_joint5
    - panda_joint6
    - panda_joint7

  gains:
    panda_joint1: { p: 12000, d: 50, i: 0.0, i_clamp: 10000 }
    panda_joint2: { p: 30000, d: 100, i: 0.02, i_clamp: 10000 }
    panda_joint3: { p: 18000, d: 50, i: 0.01, i_clamp: 1 }
    panda_joint4: { p: 18000, d: 70, i: 0.01, i_clamp: 10000 }
    panda_joint5: { p: 12000, d: 70, i: 0.01, i_clamp: 1 }
    panda_joint6: { p: 7000, d: 50, i: 0.01, i_clamp: 1 }
    panda_joint7: { p: 2000, d: 20, i: 0.0, i_clamp: 1 }

  constraints:
    goal_time: 2.0

  state_publish_rate: 25

task_space_controller:
  type: "robot_control_ros/TaskSpaceController"
  controlled_frame: "panda_hand"
  target_pose_topic: "/target_pose"
  current_pose_topic: "/current_pose"
  publish_ros: true

task_space_controller_sim:
  type: "robot_control_ros/TaskSpaceControllerSim"
  controlled_frame: "panda_hand"
  target_pose_topic: "/target_pose"
  current_pose_topic: "/current_pose"
  publish_ros: true

ik_controller_panda:
  type: "robot_control_ros/IKControllerPanda"
  description_name: "/robot_description"
  target_pose_topic: "/target_pose"
  current_pose_topic: "/current_pose"
  publish_ros: true
  debug: false
  joint_names:
    - panda_joint1
    - panda_joint2
    - panda_joint3
    - panda_joint4
    - panda_joint5
    - panda_joint6
    - panda_joint7
  p_gains: [100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0]
  d_gains: [1.0, 1.0, 1.0, 1.0, 1.0, 1.0, 1.0]
  default_configuration: [0.0, -0.473, 0.10720, -1.937, -0.1610, 1.48333, 0.75098]
  root_link: panda_link0
  end_effector_link: panda_hand

ik_controller_sim_panda:
  type: "robot_control_ros/IKControllerEffortSim"
  description_name: "/robot_description"
  target_pose_topic: "/target_pose"
  current_pose_topic: "/current_pose"
  publish_ros: true
  debug: true
  joint_names:
    - panda_joint1
    - panda_joint2
    - panda_joint3
    - panda_joint4
    - panda_joint5
    - panda_joint6
    - panda_joint7
  p_gains: [100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0]
  d_gains: [10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0]
  default_configuration: [0.0, -0.473, 0.10720, -1.937, -0.1610, 1.48333, 0.75098]
  root_link: panda_link0
  end_effector_link: panda_hand

ik_controller_sim_kinova3:
  type: "robot_control_ros/IKControllerEffortSim"
  target_pose_topic: "/target_pose"
  current_pose_topic: "/current_pose"
  publish_ros: true
  debug: false
  joint_names:
    - joint_1
    - joint_2
    - joint_3
    - joint_4
    - joint_5
    - joint_6
    - joint_7
  p_gains: [100.0, 100.0, 100.0, 100.0, 100.0, 100.0, 100.0]
  d_gains: [10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0]
  default_configuration: [0.0, 0.26, 3.14, -2.27, 0.0, 0.96, 1.57]        # used for nullspace optimization
  max_velocity: 0.3                                                       # max velocity for joint velocity profile
  max_acceleration: 100.0                                                 # max acceleration in the ramping phase
  lower_limits: [-6.28, -2.41, -6.28, -2.66, -6.28, -2.23, -6.28]         # lower joint limits
  upper_limits: [6.28, 2.41, 6.28, 2.66, 6.28, 2.23, 6.28]                # upper joint limits
  root_link: base_link                                                    # root link of the kinematic chain
  end_effector_link: end_effector_link                                    # tip link of the kinematic chain

impedance_controller_effort_sim:
  description_name: /my_gen3/robot_description
  controlled_frame: tool_frame
  reference_frame: base_link
  joint_names:
    - joint_1
    - joint_2
    - joint_3
    - joint_4
    - joint_5
    - joint_6
    - joint_7

wrench_controller:
  type: "robot_control_ros/WrenchEstimatorSim"
  description_name: /robot_description
  frame: panda_hand
  gain: [10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 10.0, 0.0, 0.0]
  alpha: 0.9
  joint_names:
  - panda_joint1
  - panda_joint2
  - panda_joint3
  - panda_joint4
  - panda_joint5
  - panda_joint6
  - panda_joint7
